<app-loader></app-loader>
<div class="background">
  <div class="container">
    <div class="row">
      <div
        class="col-12 col-sm-6 col-md-5 col-lg-4 col-xl-3 py-2 d-sm-flex justify-content-center align-items-center"
      >
        <app-volume-cover
          [detailedView]="true"
          [volume]="volume"
        ></app-volume-cover>
      </div>
      <div class="col-12 col-sm-6 col-md-7 col-lg-8 col-xl-9 text-white">
        <div class="mb-2">
          <h3>{{ volume?.volumeInfo?.title }}</h3>
          <p class="mb-0">{{ volume?.volumeInfo?.subtitle }}</p>
        </div>
        <div
          class="mb-2 d-flex align-items-center"
          *ngIf="volume?.volumeInfo?.averageRating"
        >
          <img
            src="../../../../../assets/star.svg"
            alt="No image..."
            style="width: 1rem"
          />
          <span class="fw-bold ms-1">
            {{ volume?.volumeInfo?.averageRating }}
          </span>
        </div>
        <hr />
        <app-display-volume-item
          header="Author(s)"
          [displayList]="volume?.volumeInfo?.authors"
        >
        </app-display-volume-item>
        <app-display-volume-item
          header="Category/Categories"
          [displayList]="volume?.volumeInfo?.categories"
        >
        </app-display-volume-item>
        <app-display-volume-item
          header="Publisher"
          [displayItem]="volume?.volumeInfo?.publisher"
        >
        </app-display-volume-item>
        <app-display-volume-item
          header="Publish date"
          [displayItem]="volume?.volumeInfo?.publishedDate"
        >
        </app-display-volume-item>
        <app-display-volume-item
          header="Page count"
          [displayItem]="volume?.volumeInfo?.pageCount"
        >
        </app-display-volume-item>
        <div class="mb-2">
          <span>ISBN codes:</span>
          <ul
            class="mb-0 text-gray"
            *ngFor="let identifier of volume?.volumeInfo?.industryIdentifiers"
          >
            <li>{{ identifier.type }}: {{ identifier.identifier }}</li>
          </ul>
        </div>
        <app-display-volume-item
          *ngIf="volume?.saleInfo?.retailPrice?.amount"
          header="Price"
          [displayItem]="
            volume?.saleInfo?.retailPrice?.amount +
            ' ' +
            volume?.saleInfo?.retailPrice?.currencyCode
          "
        ></app-display-volume-item>
        <!-- TODO - refactor buttons -->
        <button
          *ngIf="volume?.accessInfo?.pdf?.downloadLink"
          (click)="downloadBook()"
          class="button-secondary mb-2"
        >
          Download book in PDF
        </button>
        <button
          *ngIf="volume?.accessInfo?.epub?.downloadLink"
          (click)="downloadBook()"
          class="button-secondary mb-2"
        >
          Download book in EPUB
        </button>
        <button
          class="button-main mb-2"
          *ngIf="volume?.saleInfo?.saleability === saleStatus.forSale"
          (click)="orderBook()"
        >
          Order this book
        </button>
      </div>
    </div>
  </div>
</div>
